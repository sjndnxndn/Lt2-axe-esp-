--[[
ðŸ“Œ Lumber Tycoon 2 - Axe ESP (2D Overlay)
By ChatGPT | UI Toggle: Right Control
Compatible with Delta
--]]

local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ESPEnabled = true
local ESPObjects = {}
local UpdateRate = 10 -- seconds

-- UI Toggle Setup
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.RightControl and not gp then
        ESPEnabled = not ESPEnabled
        for _, v in pairs(ESPObjects) do
            v.Visible = ESPEnabled
        end
    end
end)

-- Create ESP Box
local function createESP(name)
    local esp = Drawing.new("Text")
    esp.Size = 16
    esp.Center = true
    esp.Outline = true
    esp.Color = Color3.fromRGB(0, 255, 0)
    esp.Visible = ESPEnabled
    esp.Text = name
    return esp
end

-- Clear old ESP
local function clearESP()
    for _, v in pairs(ESPObjects) do
        if v and v.Remove then
            v:Remove()
        elseif v and v.Destroy then
            v:Destroy()
        end
    end
    table.clear(ESPObjects)
end

-- Update ESP targets
local function getAllAxes()
    local found = {}

    -- World axes (not held)
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Tool") and v:FindFirstChild("Axe") then
            table.insert(found, v)
        end
    end

    -- Held axes
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer and plr.Character then
            local tool = plr.Character:FindFirstChildOfClass("Tool")
            if tool and tool:FindFirstChild("Axe") then
                table.insert(found, tool)
            end
        end
    end

    return found
end

-- Track and update ESP
local function updateESP()
    clearESP()
    local axes = getAllAxes()
    for _, axe in pairs(axes) do
        local esp = createESP(axe.Name)
        ESPObjects[axe] = esp
    end
end

-- Position ESP every frame
RunService.RenderStepped:Connect(function()
    if not ESPEnabled then return end
    for axe, esp in pairs(ESPObjects) do
        if axe and axe:IsDescendantOf(game) and axe:FindFirstChild("Handle") then
            local pos = axe.Handle.Position
            local screenPos, onScreen = workspace.CurrentCamera:WorldToViewportPoint(pos)
            if onScreen then
                esp.Position = Vector2.new(screenPos.X, screenPos.Y)
                esp.Text = axe.Name
                esp.Visible = true
            else
                esp.Visible = false
            end
        else
            esp.Visible = false
        end
    end
end)

-- Initial run
updateESP()

-- Refresh every 10 seconds
task.spawn(function()
    while true do
        task.wait(UpdateRate)
        updateESP()
    end
end)

print("âœ… Axe ESP Script Loaded - Press Right Control to toggle")
