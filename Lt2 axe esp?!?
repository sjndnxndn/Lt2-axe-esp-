-- Delta UI Library
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/centersoftware/ui-libs/main/delta-lib.lua"))()
local window = library:CreateWindow("Axe ESP")
local toggleESP = false
local uiVisible = true

-- ESP container
local espFolder = Instance.new("Folder", game.CoreGui)
espFolder.Name = "AxeESPFolder"

-- Create 2D ESP
local function createESP(obj)
    if espFolder:FindFirstChild(obj:GetFullName()) then return end

    local billboard = Instance.new("BillboardGui")
    billboard.Name = obj:GetFullName()
    billboard.AlwaysOnTop = true
    billboard.Size = UDim2.new(0, 100, 0, 20)
    billboard.StudsOffset = Vector3.new(0, 2, 0)
    billboard.Adornee = obj

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.TextColor3 = Color3.new(1, 1, 0)
    label.TextStrokeTransparency = 0.5
    label.TextScaled = true
    label.Font = Enum.Font.SourceSansBold
    label.Text = obj.Name
    label.Parent = billboard

    billboard.Parent = espFolder
end

-- Clear all ESPs
local function clearESP()
    for _, gui in pairs(espFolder:GetChildren()) do
        gui:Destroy()
    end
end

-- Check if it's an axe
local function isAxe(tool)
    return tool:IsA("Tool") and tool:FindFirstChild("Handle") and (
        string.find(tool.Name:lower(), "axe") or
        string.find(tool.Name:lower(), "hatchet") or
        string.find(tool.Name:lower(), "maul")
    )
end

-- Scan for axes
local function scanAxes()
    clearESP()
    for _, player in pairs(game.Players:GetPlayers()) do
        -- Held axes
        if player.Character then
            for _, item in pairs(player.Character:GetChildren()) do
                if isAxe(item) and toggleESP then
                    createESP(item)
                end
            end
        end
        -- Backpack axes
        if player:FindFirstChild("Backpack") then
            for _, tool in pairs(player.Backpack:GetChildren()) do
                if isAxe(tool) and toggleESP then
                    createESP(tool)
                end
            end
        end
    end
    -- Dropped axes
    for _, item in pairs(workspace:GetDescendants()) do
        if isAxe(item) and toggleESP then
            createESP(item)
        end
    end
end

-- UI Toggle
window:AddToggle({
    text = "Enable Axe ESP",
    callback = function(state)
        toggleESP = state
        if state then
            scanAxes()
        else
            clearESP()
        end
    end
})

-- Loop to refresh every 10 sec
task.spawn(function()
    while true do
        task.wait(10)
        if toggleESP then
            scanAxes()
        end
    end
end)

-- Right Control to toggle UI visibility
game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.RightControl then
        uiVisible = not uiVisible
        library:ToggleUI(uiVisible)
    end
end)
